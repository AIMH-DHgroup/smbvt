<!DOCTYPE html>
<html lang="en">
<head>
 <title>Hello World</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--add required stylesheets-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <!--leaflet css-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.4.0/leaflet.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

    <!--add favicon for the web page-->
    <link rel="shortcut icon" href="../../img/favicon.ico" type="image/x-icon">

    <!--Font-->
    <link href="https://fonts.googleapis.com/css?family=Cairo" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="storymap.2.5.css">

    <!--add required libraries-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.4.0/leaflet.js"></script>
    <!--jquery and Popper-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"></script>

    <!--boostrap-->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <!--leaflet.ajax for asynchronously adding geojson data-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-ajax/2.1.0/leaflet.ajax.min.js"></script>

    <!--story map plugin-->
    <script src="storymap.2.5.js"></script>
</head>
<body>
<div id="storymap" class="container-fluid" >
    <div class="row">
        <div class="col-sm-6 col-md-8 storymap-map"></div>
        <div class="col-sm-6 col-md-4 storymap-story">
		

            <section data-scene="overview" data-background="ALPI_APUANE.jpg">
                <div class="fullscreen text-center">

                    <h1 class="display-4 d-flex justify-content-center">Cities in Oregon</h1>


                    <small class="d-flex justify-content-center" style="color: rgba(255,255,255,0.95)">This story map
                        illustrates the major cities in
                        Oregon using a storytelling structure.
                    </small>
                </div>
            </section>
		
			<section data-scene="scene1">
			<h2 class="sectionTitle">SKIING (BOROVETS)</h2>
			<a href="https://commons.wikimedia.org/w/index.php?title=Special:Redirect/file&wpvalue=Bulgaria%20%28orthographic%20projection%29.svg&width=700&type=.jpg" target="_blank"><img class="sectionImage" src="https://commons.wikimedia.org/w/index.php?title=Special:Redirect/file&wpvalue=Bulgaria%20%28orthographic%20projection%29.svg&width=700&type=.jpg"></a>
			<p class="sectionDescription">"The MOVING reference member state of this VC (Value Chain) is BULGARIA. The reference MOVING Card ID of this VC is VC 11 BG. Borovets is the oldest Bulgarian winter resort with a history that dates back to 1896. It gradually developed into a modern ski resort with hotels, restaurants, bars and a network of ski runs and lifts along the slopes of the Rila Mountains providing for a whole range of winter sports. Duinrg the previous communist regime, the resort twice hosted World Cup Alpine Skiing rounds in 1981 and 1984. There are a total 58 km of marked pistes on north facing slopes up to an altitude of 2,560 metres. The longest run is a gentle 12 km return to the resort along the maintenance road. There is a well developed lift infrastructure with drag lifts, baby tows, seat chain lifts, plus a gondola lift. 1 six-seat Gondola lift, 2 High Speed Quad Chair lifts, 1 Fixed Grip Quad Chair lift, 10 Surface ski lifts and 9 tow lifts. The resort also offers biathlon facilities for training and competitions with 35 km of cross country trails designed according to the requirements of the Federation Internationale de Ski (FIS). <h5>Entities</h5> <span class='tl-entities'><a onmouseover='$(this).tooltip(); $(this).tooltip("show")' data-toggle='tooltip' title='country in Southeast Europe' target='_blank' href='http://www.wikidata.org/entity/Q219'>bulgaria</a></span> • <span class='tl-entities'><a onmouseover='$(this).tooltip(); $(this).tooltip("show")' data-toggle='tooltip' title='mountain resort in Sofia Province, Bulgaria' target='_blank' href='http://www.wikidata.org/entity/Q894120'> borovets</a></span> • <span class='tl-entities'><a onmouseover='$(this).tooltip(); $(this).tooltip("show")' data-toggle='tooltip' title='one of the Earth's four temperate seasons, occurring between autumn and spring' target='_blank' href='http://www.wikidata.org/entity/Q1311'> winter</a></span> • <span class='tl-entities'><a onmouseover='$(this).tooltip(); $(this).tooltip("show")' data-toggle='tooltip' title='self-contained commercial establishment which attempts to provide for most of a vacationer's wants' target='_blank' href='http://www.wikidata.org/entity/Q875157'> resort</a></span> • <span class='tl-entities'><a onmouseover='$(this).tooltip(); $(this).tooltip("show")' data-toggle='tooltip' title='mountainside developed for skiing, snowboarding, and other winter sports' target='_blank' href='http://www.wikidata.org/entity/Q130003'> ski resort</a></span> • <span class='tl-entities'><a onmouseover='$(this).tooltip(); $(this).tooltip("show")' data-toggle='tooltip' title='narrow strip of semi-rigid material used (usually in a pair) for gliding over snow ie skiing' target='_blank' href='http://www.wikidata.org/entity/Q172226'> ski</a></span> • <span class='tl-entities'><a onmouseover='$(this).tooltip(); $(this).tooltip("show")' data-toggle='tooltip' title='sport of skiing downhill' target='_blank' href='http://www.wikidata.org/entity/Q186222'> alpine skiing</a></span> • <span class='tl-entities'><a onmouseover='$(this).tooltip(); $(this).tooltip("show")' data-toggle='tooltip' title='aerial transport by means of cable cabins attached onto a circulating haul rope that moves continuously around a looped track' target='_blank' href='http://www.wikidata.org/entity/Q1576693'> gondola lift</a></span> • <span class='tl-entities'><a onmouseover='$(this).tooltip(); $(this).tooltip("show")' data-toggle='tooltip' title='winter sport that combines cross-country skiing and rifle sports shooting' target='_blank' href='http://www.wikidata.org/entity/Q166788'> biathlon</a></span></p>
			</section>
			
			<section data-scene="scene2">
			<h2>scene 2</h2>
			</section>
			
			<section data-scene="scene3">
			<h2>scene 3</h2>
			</section>
			
		</div>
    </div>
</div>


<script>


var littleton = L.marker([39.61, -105.02]).bindPopup('This is Littleton, CO.'),
    denver    = L.marker([39.74, -104.99]).bindPopup('This is Denver, CO.'),
    aurora    = L.marker([39.73, -104.8]).bindPopup('This is Aurora, CO.'),
    golden    = L.marker([44.564568, -123.262047]).bindPopup('This is Golden, CO.');
	
//var cities = L.layerGroup([littleton, denver, aurora, golden]);



//https://leafletjs.com/examples/geojson/
<!-- var myLines = [{ -->
    <!-- "type": "LineString", -->
    <!-- "coordinates": [[-100, 40], [-105, 45], [-110, 55]] -->
<!-- }, { -->
    <!-- "type": "LineString", -->
    <!-- "coordinates": [[-105, 40], [-110, 45], [-115, 55]] -->
<!-- }]; -->
var myLines = [{
    "type": "Feature",
    "properties": {"party": "Republican"},
    "geometry": {
        "type": "Polygon",
        "coordinates": [[
            [-104.05, 48.99],
            [-97.22,  48.98],
            [-96.58,  45.94],
            [-104.03, 45.94],
            [-104.05, 48.99]
        ]]
    }
}, {
    "type": "Feature",
    "properties": {"party": "Democrat"},
    "geometry": {
        "type": "Polygon",
        "coordinates": [[
            [-109.05, 41.00],
            [-102.06, 40.99],
            [-102.03, 36.99],
            [-109.04, 36.99],
            [-109.05, 41.00]
        ]]
    }
}];
var myStyle = {
    "color": "#ff7800",
    "weight": 5,
    "opacity": 0.65
}



    var layers = {
        layer1: {
            layer: L.tileLayer('http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}'),
            legend: '<i style="background: black; opacity: 0.5"></i><p><b>legend 1</b></p>'
        },
        layer2: {
            layer: L.geoJson.ajax('http://mapious.ceoas.oregonstate.edu/geoserver/mapious/ows?service=WFS&version=1.0.0&request=GetFeature&typeName=ore_counties&outputFormat=application%2Fjson', {
                color: 'orange',
                weight: 5
            }),
            legend: '<i style="background: orange; opacity: 0.5"></i><p><b>legend 2</b></p>'
        },
        layer3: {
            layer: L.tileLayer('http://cartodb-basemaps-{s}.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png')
        },
		layer4:{
			layer:  L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png')
		},
		layer5:{
			layer:  L.tileLayer('https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png', {
            color: 'orange',
            weight: 8
			})
		},
		layer6:{
			layer: L.layerGroup([littleton, denver, aurora, golden])
		},
		layer7:{
			layer: L.geoJSON(myLines, {style: myStyle})
		}
    };

    var scenes = {
		overview: {lat: 44.0000000, lng: -123.5000000, zoom: 7, name: 'Cover Page', layers: []},
        scene1: {lat: 44, lng: -123.5, zoom: 7, layers: [layers.layer2], name: "scene 1"},
        scene2: {lat: 44.5701158, lng: -123.2949388, zoom: 10, layers: [layers.layer5], name: "scene 2"},
        scene3: {lat: 44.5701158, lng: -123.2949388, zoom: 12, layers: [layers.layer6, layers.layer7], name: "scene 3"}
    };

    $('#storymap').storymap({
        scenes: scenes,
        layers: layers,
        baselayer: layers.layer4,
        legend: true,
		mapinteraction: true,
        loader: true,
        flyto: false,
        credits: "Build with <i class='material-icons' style='color: red; font-size: 10px;'>favorite</i> from Bo Zhao",
        scalebar: false,
        scrolldown: false,
        progressline: true,
        navwidget: true,
        createMap: function () {
            var map = L.map($(".storymap-map")[0], {zoomControl: false}).setView([44, -120], 7);
            basemap = this.baselayer.layer.addTo(map);

			L.control.zoom({
				position: 'bottomright'
			}).addTo(map);

            return map;
        }
    });
	

	
</script>


</body>
</html>